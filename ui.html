<!DOCTYPE html>
<html>
<head>
  <!-- Removed onload script -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

  <!-- STYLE -->
  <style>
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }
    body {
      font-family: "Inter", sans-serif;
      font-weight: 600;
      letter-spacing: 1%;
      font-size: .6875rem;
      line-height: 1rem;
      color: var(--figma-color-text);
      margin: 0px;
      background-color: var(--color-bg);
    }
    footer {
      position:fixed;
      margin-left: 1em;
      left:0px;
      bottom:1em;
      padding-top: 10px;
      color: gray;
      font-size: 10px;
    }
    /* Optional: Keep input/textarea styles if needed later */
    /*
    input, textarea {
      padding: 4px;
      width: 100%;
      font-family: "Inter", sans-serif;
      font-size: .6875rem;
      color: var(--figma-color-text);
      background-color: var(--figma-color-bg-secondary);
      border-color: transparent;
      resize: none;
    }
    input:focus, textarea:focus {
      border-color: var(--figma-color-border-selected);
    }
    */
    button {
      height: 32px;
      font-family: "Inter", sans-serif;
      font-size: .6875rem;
      color: var(--figma-color-text);
      background-color: var(--figma-color-bg-brand);
      border-color: transparent;
      padding: 0 12px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      outline: 1px solid transparent;
      outline-offset: -1px;
      width: calc(50% - 4px); /* Adjust width for two columns */
      margin: 4px 2px; /* Add some margin */
    }
    button:active {
      background-color: var(--figma-color-bg-brand-pressed);
      outline-color: var(--figma-color-border-selected-strong, rgba(0, 0, 0, .3));
    }
    .section {
      padding: 8px; /* Simplified padding */
    }
    .flex { 
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }
    .button-group {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      padding: 8px;
    }
    h4 {
      width: 100%;
      text-align: center;
      margin: 8px 0 4px 0;
      font-weight: normal;
      color: var(--figma-color-text-secondary);
    }
  </style>
</head>

<!-- INTERFACE -->
<body>
<div class="content">

  <div class="button-group">
    <h4>Save Position</h4>
    <button id="save1">Save 1</button>
    <button id="save2">Save 2</button>
    <button id="save3">Save 3</button>
    <button id="save4">Save 4</button>
  </div>

  <div class="button-group">
    <h4>Recall Position</h4>
    <button id="recall1">Recall 1</button>
    <button id="recall2">Recall 2</button>
    <button id="recall3">Recall 3</button>
    <button id="recall4">Recall 4</button>
  </div>

  <footer>v0.1.0</footer>

</div>
</body>

<!-- SCRIPTS -->
<script>
  // HANDLE ACTIONS
  document.getElementById('save1').onclick = () => sendMessage('save-position', 1);
  document.getElementById('save2').onclick = () => sendMessage('save-position', 2);
  document.getElementById('save3').onclick = () => sendMessage('save-position', 3);
  document.getElementById('save4').onclick = () => sendMessage('save-position', 4);

  document.getElementById('recall1').onclick = () => sendMessage('recall-position', 1);
  document.getElementById('recall2').onclick = () => sendMessage('recall-position', 2);
  document.getElementById('recall3').onclick = () => sendMessage('recall-position', 3);
  document.getElementById('recall4').onclick = () => sendMessage('recall-position', 4);

  function sendMessage(type, index) {
    parent.postMessage({ pluginMessage: { type: type, index: index } }, '*')
  }

  // HANDLE INCOMING MESSAGES
  onmessage = (event) => {
    console.log("Message from plugin code:", event.data.pluginMessage);
    // Handle messages from the plugin code here if needed
  }

  // HANDLE UI SIZE CHANGES
  function sendHeight() {
    const contentHeight = document.body.scrollHeight;
    parent.postMessage({ pluginMessage: { type: 'setheight', height: contentHeight } }, '*');
  }

  // Send initial height and update on resize or load
  window.addEventListener('load', sendHeight);
  window.addEventListener('resize', sendHeight);
  const observer = new MutationObserver(sendHeight);
  observer.observe(document.body, { childList: true, subtree: true, attributes: true });

</script>
</html>


